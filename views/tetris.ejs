<!DOCTYPE html>
<html>
  <head>
    <title>Tretis Online</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" type="text/css" href="./style.css" />

    <script src="/socket.io/socket.io.js"></script>

    <!-- p5 Librairies -->
    <script src="./p5.min.js"></script>
    <script src="./p5.dom.js"></script>

    <!-- Game files -->
    <script src="./game/globalVar.js"></script>
    <script src="./game/arrayManager.js"></script>
    <script src="./game/graphic.js"></script>
    <script src="./game/button.js"></script>
    <script src="./game/piecesPattern.js"></script>
    <script src="./game/pieces.js"></script>
    <script src="./game/preview.js"></script>
    <script src="./game/handleServer.js"></script>
    <script src="./game/sketch.js"></script>

    <script>

      function imReady() {
        if(!gameStarted) socket.emit('imReady');
        return false;
      }

      function enteredRoom() {
        roomHandler();
        return false;
      }

    </script>


  </head>

  <body>
    <br><hr><br>
    <h1>Tretis Battle Royal</h1>
    <br><hr><br>
    <% if ( page === "home") { %>
      <div>
        <a href="/br">
      <img src="/img/battle-royale.png" style="max-width: 600px;" href=""></img></a><br><br>
      <a href="javascript:onclick=offline = true; startGame();">
      <img src="/img/play-solo.png" style="max-width: 600px;" ></img></a><br><br>
      <img src="/img/exit.png" style="max-width: 600px;"></img><br><br>
    </div>
      <% } %>
    <% if ( page === "br") { %>
      <div id="homeform">
    <form onsubmit="return enteredRoom()">
        <input id="pseudo" class="pseudo" type="text" placeholder="Pseudo" pattern=".{1,10}" required title="10 lettres max." name="Pseudo">
        <input id="roomChoice" class="pseudo" type="text" placeholder="Room" pattern=".{1,4}" required title="1-4 characters" name="Room">

        <button class="button" type="submit">Online Play</button>
        <input type="button" class="button" onclick="offline = true; startGame();" value="Solo play">
        <p>Best players of all times :</p>
    </form>
  </div>
  <div id='room' style="display:none;">
    <form onsubmit="return imReady()">
      <button class="button" type="submit">Begin the game</button>
    </form>
  </div>
      <% } %>
  </body>
</html>
